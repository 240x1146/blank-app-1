import streamlit as st
from supabase import create_client, Client

# --- 1. SupabaseÊé•Á∂öË®≠ÂÆö (Secrets„Åã„ÇâË™≠„ÅøËæº„Åø) ---
# ‚Äª„ÅÇ„Çâ„Åã„Åò„ÇÅStreamlit„ÅÆSettings > Secrets„Å´URL„Å®KEY„ÇíË®≠ÂÆö„Åó„Å¶„Åä„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ
try:
    url: str = st.secrets["SUPABASE_URL"]
    key: str = st.secrets["SUPABASE_KEY"]
    supabase: Client = create_client(url, key)
except Exception as e:
    st.error("Supabase„ÅÆÊé•Á∂öË®≠ÂÆö„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„ÄÇSecrets„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ")

# --- 2. „Ç¢„Éó„É™„ÅÆË®≠ÂÆö„Å®„Çø„Ç§„Éà„É´„ÅÆË°®Á§∫ ---
st.set_page_config(page_title="K-PopÊé®„ÅóË®∫Êñ≠", layout="wide")

# ÁîªÂÉè„Çí„Åç„Çå„ÅÑ„Å´ÊèÉ„Åà„Çã„Åü„ÇÅ„ÅÆ„Ç´„Çπ„Çø„É†CSS
st.markdown(
    """
    <style>
    img {
        height: 300px !important;
        width: 100% !important;
        object-fit: cover !important;
        border-radius: 10px;
    }
    .stButton > button {
        width: 100%;
    }
    </style>
    """,
    unsafe_allow_html=True
)

st.title("üíñ K-Pop„Éë„Éº„ÉÑË®∫Êñ≠„Ç¢„Éó„É™ üíñ")
st.write("„Ç§„É°„Éº„Ç∏Âõ≥„ÇíÂèÇËÄÉ„Å´„ÄÅ„ÅÇ„Å™„Åü„ÅÆÂ•Ω„Åø„ÇíÁõ¥ÊÑüÁöÑ„Å´ÈÅ∏„Çì„Åß„Åè„Å†„Åï„ÅÑÔºÅ")

# „Éã„ÉÉ„ÇØ„Éç„Éº„É†ÂÖ•ÂäõÔºà‰øùÂ≠òÁî®„Å´ËøΩÂä†„Åó„Åæ„Åó„ÅüÔºâ
user_name = st.text_input("„ÅÇ„Å™„Åü„ÅÆ„Éã„ÉÉ„ÇØ„Éç„Éº„É†", value="„Ç≤„Çπ„Éà")

# 3. „Çª„ÉÉ„Ç∑„Éß„É≥Áä∂ÊÖã„ÅÆÂàùÊúüÂåñ
if 'selections' not in st.session_state:
    st.session_state.selections = {"style": None, "hair": None, "face_type": None}

# --- Ë®∫Êñ≠Áî®„Éë„Éº„ÉÑÈÅ∏Êäû„Çª„ÇØ„Ç∑„Éß„É≥ ---
st.header("1. ÂÖ®‰Ωì„ÅÆÈõ∞Âõ≤Ê∞ó„ÅØÔºü")
col1, col2 = st.columns(2)
with col1:
    st.image("https://assets.st-note.com/production/uploads/images/77120728/rectangle_large_type_2_1fbd4ace7023a5295f2b44f31681a476.jpg?width=1280", caption="Êüî„Çâ„Åã„ÅÑ„ÉªÊÑõ„Çâ„Åó„ÅÑ")
    if st.button("„Åã„Çè„ÅÑ„ÅÑÁ≥ª„ÇíÈÅ∏„Å∂"):
        st.session_state.selections["style"] = "„Åã„Çè„ÅÑ„ÅÑÁ≥ª"
with col2:
    st.image("data:image/jpeg;base64,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", caption="Á∂∫È∫ó„ÉªÂ§ß‰∫∫„Å£„ÅΩ„ÅÑ")
    if st.button("Áæé‰∫∫Á≥ª„ÇíÈÅ∏„Å∂"):
        st.session_state.selections["style"] = "Áæé‰∫∫Á≥ª"

st.header("2. È´™Âûã„ÅØÔºü")
col3, col4 = st.columns(2)
with col3:
    st.image("https://www.lemon8-app.com/seo/image?item_id=7486886065383588407&index=0&sign=a1759eff2a3c84d50a29c6dbf79e1725", caption="ÁéãÈÅì„ÅÆ„É≠„É≥„Ç∞„Éò„Ç¢")
    if st.button("„É≠„É≥„Ç∞„ÇíÈÅ∏„Å∂"):
        st.session_state.selections["hair"] = "„É≠„É≥„Ç∞"
with col4:
    st.image("https://cdn-ak.f.st-hatena.com/images/fotolife/t/teajo/20240630/20240630202242.jpg", caption="ÁàΩ„ÇÑ„Åã„Å™„Ç∑„Éß„Éº„Éà„Éª„Éú„Éñ")
    if st.button("„Ç∑„Éß„Éº„Éà„ÇíÈÅ∏„Å∂"):
        st.session_state.selections["hair"] = "„Ç∑„Éß„Éº„Éà"

st.header("3. È°î„ÅÆ„Çø„Ç§„Éó„ÅØÔºü")
col5, col6 = st.columns(2)
with col5:
    st.image("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSiNP8fOOGeP7ptsf700c4M-bqmAdQgMmunTQIZchyJ-g&s", caption="„ÉÑ„É≥„Å®„Åó„ÅüÁæé„Åó„Åï„ÅÆÁå´È°î")
    if st.button("Áå´È°î„ÇíÈÅ∏„Å∂"):
        st.session_state.selections["face_type"] = "Áå´È°î"
with col6:
    st.image("data:image/jpeg;base64,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", caption="‰∫∫Êáê„Å£„Åì„ÅÑÊÑõÂ¨å„ÅÆÁä¨È°î")
    if st.button("Áä¨È°î„ÇíÈÅ∏„Å∂"):
        st.session_state.selections["face_type"] = "Áä¨È°î"

# „Çµ„Ç§„Éâ„Éê„Éº„Å´ÁèæÂú®„ÅÆÈÅ∏Êäû„ÇíË°®Á§∫
st.sidebar.header("ÁèæÂú®„ÅÆÈÅ∏ÊäûÁä∂Ê≥Å")
for key, value in st.session_state.selections.items():
    label = {"style": "Èõ∞Âõ≤Ê∞ó", "hair": "È´™Âûã", "face_type": "È°î„Çø„Ç§„Éó"}[key]
    st.sidebar.write(f"**{label}**: {value if value else 'Êú™ÈÅ∏Êäû'}")

# --- 4. Ë®∫Êñ≠ÂÆüË°å„Å®„Éá„Éº„Çø‰øùÂ≠ò ---
if st.button("‚ú® „Åì„ÅÆÊù°‰ª∂„ÅßÊé®„Åó„ÇíË®∫Êñ≠„Åô„Çã ‚ú®"):
    if None in st.session_state.selections.values():
        st.error("ÂÖ®„Å¶„ÅÆÈ†ÖÁõÆ„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºÅ")
    else:
        s = st.session_state.selections
        
        # Âà§ÂÆö„É≠„Ç∏„ÉÉ„ÇØ
        if s["style"] == "Áæé‰∫∫Á≥ª" and s["face_type"] == "Áå´È°î":
            res_name = "„Ç¶„Ç©„Éã„Éß„É≥ (IVE)"
            res_desc = "ÂúßÂÄíÁöÑ„Å™„Ç´„É™„Çπ„ÉûÊÄß„Å®Áå´„ÅÆ„Çà„ÅÜ„Å™Ê∞óÂìÅ„ÄÇ„Åæ„Åï„Å´Áèæ‰ª£„ÅÆ„Ç¢„Ç§„Ç≥„É≥ÔºÅ"
            res_img = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTSEYPQPYGxNHam0YruA9HcVCi312VFThOR9PHnd9MyfQ&s"
        elif s["style"] == "„Åã„Çè„ÅÑ„ÅÑÁ≥ª" and s["face_type"] == "Áä¨È°î":
            res_name = "„ÇΩ„É™„É•„É≥ (NMIXX)"
            res_desc = "„Åä‰∫∫ÂΩ¢„ÅÆ„Çà„ÅÜ„Å™ÊÑõ„Çâ„Åó„Åï„Å®‰∫∫Êáê„Å£„Åì„ÅÑÁû≥„ÄÇ„Éì„Ç∏„É•„Ç¢„É´„ÇØ„Ç§„Éº„É≥„Åß„Åô„ÄÇ"
            res_img = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSiNP8fOOGeP7ptsf700c4M-bqmAdQgMmunTQIZchyJ-g&s"
        elif s["face_type"] == "Áå´È°î":
            res_name = "„ÉÅ„Ç≠„Éº„Çø (BABYMONSTER)"
            res_desc = "„ÇØ„Éº„É´„ÅßÁå´„ÅÆ„Çà„ÅÜ„Å™Èã≠„ÅÑ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„ÅåÁõÆ„ÇíÂºï„ÅèÊñ∞ÊòüÔºÅ"
            res_img = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTzR-rR1-rR1-rR1-rR1-rR1-rR1-rR1-rR1&s"
        else:
            res_name = "„Ç¢„É≥„Éª„É¶„Ç∏„É≥ (IVE)"
            res_desc = "Â§ßÂûãÁä¨„ÅÆ„Çà„ÅÜ„Å™Êòé„Çã„ÅÑ„Ç®„Éç„É´„ÇÆ„Éº„Å®„ÄÅË™∞„Åã„Çâ„ÇÇÊÑõ„Åï„Çå„ÇãÂÅ•Â∫∑ÁöÑ„Å™„Éì„Ç∏„É•„Ç¢„É´„ÄÇ"
            res_img = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSiNP8fOOGeP7ptsf700c4M-bqmAdQgMmunTQIZchyJ-g&s"

        st.divider()
        st.balloons()
        st.header(f"„ÅÇ„Å™„Åü„Å∏„ÅÆÊèêÊ°àÔºö{res_name}")
        c_res1, c_res2 = st.columns(2)
        with c_res1:
            st.image(res_img, use_container_width=True)
        with c_res2:
            st.write(res_desc)
            st.info("„Åì„ÅÆ„Ç¢„Ç§„Éâ„É´„Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜÔºÅ")

        # --- ‚òÖ„Åì„Åì„ÅßSupabase„Å´‰øùÂ≠ò ---
        data = {
            "user_name": user_name,
            "result_group": res_name
        }
        try:
            supabase.table("kpop_diagnosis_logs").insert(data).execute()
            st.toast("Ë®∫Êñ≠ÁµêÊûú„Çí„Éá„Éº„Çø„Éô„Éº„Çπ„Å´‰øùÂ≠ò„Åó„Åæ„Åó„ÅüÔºÅ")
        except Exception as e:
            st.error(f"„Éá„Éº„Çø„ÅÆ‰øùÂ≠ò„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: {e}")

# ÈÅéÂéª„ÅÆÂ±•Ê≠¥„ÇíË°®Á§∫„Åô„ÇãÔºà‰ªªÊÑèÔºâ
if st.checkbox("„Åø„Çì„Å™„ÅÆË®∫Êñ≠Â±•Ê≠¥„ÇíË°®Á§∫"):
    res = supabase.table("kpop_diagnosis_logs").select("*").order("created_at", desc=True).execute()
    if res.data:
        st.table(res.data)